
#dummy database
session_requests = [
    {"sessionID":MS2025-12, "mentor":"mentorA@pmu.edu.sa", "mentee":"zunaikahk@pmu.edu.sa", "status": "pending", "start": None, "end": None, "mins": "", "feedback": "Good session"},
    {"sessionID":MS2025-90, "mentor":"mentorB@pmu.edu.sa", "mentee":"syedif@pmu.edu.sa", "status": "accepted", "start": "13:00 18-12-2025", "end": "14:00 18-12-2025", "mins": "60 minutes", "feedback": "Bad mentor"},
    {"sessionID":MS2025-21, "mentor":"mentorC@pmu.edu.sa", "mentee":"damana@pmu.edu.sa", "status": "declined", "start": "8:00 4-1-2026", "end": "10:00 4-1-2026", "mins": "120 minutes", "feedback": "Very supportive mentor"},
]


def getRequest(sessionID):
    for req in session_requests:
        if req["sessionID"] == sessionID:
            return req
    return None

def viewSessionRequest(sessionID):
    req = getRequest(sessionID)
    if req is not None:
        return req
    else:
        return "No session found with this ID"

def updateStatus(sessionID, status):
    req = getRequest(sessionID)
    if req is not None:
        req["status"] = status
        return True
    else:
        return False

def acceptRequest(sessionID):
    if updateStatus(sessionID, "accepted") is True:
        return "Request accepted"
    else:
        return "Request is not found"

def updateShcedule(sessionID, startTime, endTime):
    req = getRequest(sessionID)
    if req is not None:
        req["start"] = startTime 
        req["end"] = endTime
        return True
    else:
        return False

def scheduleSession(sessionID, startTime, endTime):
    if updateShcedule(sessionID, startTime, endTime) is True:
        return "Session scheduled"
    else:
        return "Session is not found"

def recordSessionTime(sessionID, meetingMinutes):
    req = getRequest(sessionID)
    if req is not None:
        req["mins"] = meetingMinutes
        return True
    else:
        return False

def recordMinutes(sessionID, meetingMinutes):
    if recordSessionTime(sessionID, meetingMinutes) is True:
        return "Meeting minutes saved"
    else:
        return "No meeting minutes"

def declineRequest(sessionID):
    if updateStatus(sessionID, "declined") is True:
        return "Request declined"
    else:
        return "Request not found"

def getFeedback(sessionID):
    req = getRequest(sessionID)
    if req is not None:
        return req["feedback"]
    else:
        return "Session ID not found"

def viewFeedback(sessionID):
    return getFeedback(sessionID)
